

команда,  DevOps  для сбора полной диагностики Docker-инфраструктуры.
Она не изменяет ничего — только собирает информацию и складывает её в файл infra_report.txt (в твоей текущей папке проекта).

🧰 Команда для macOS / Linux:
echo "🧭 SaaS Infra Diagnostic — $(date)" > infra_report.txt && \
echo "\n--- docker-compose ps ---" >> infra_report.txt && docker-compose ps >> infra_report.txt && \
echo "\n--- docker-compose config ---" >> infra_report.txt && docker-compose config >> infra_report.txt && \
echo "\n--- docker system df ---" >> infra_report.txt && docker system df >> infra_report.txt && \
echo "\n--- docker ps -a ---" >> infra_report.txt && docker ps -a >> infra_report.txt && \
echo "\n--- docker volume ls ---" >> infra_report.txt && docker volume ls >> infra_report.txt && \
echo "\n--- docker stats (snapshot) ---" >> infra_report.txt && docker stats --no-stream >> infra_report.txt && \
echo "\n--- docker-compose logs (last 50 lines) ---" >> infra_report.txt && docker-compose logs --tail=50 >> infra_report.txt && \
echo "\n--- tree -L 2 ---" >> infra_report.txt && tree -L 2 >> infra_report.txt 2>/dev/null || echo "tree command not found" >> infra_report.txt && \
echo "\n✅ Done. Diagnostic report saved to infra_report.txt"
