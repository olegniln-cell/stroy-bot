–ö–æ–Ω–µ—á–Ω–æ ‚úÖ
–í–æ—Ç –ø–æ–ª–Ω—ã–π —Ñ–∞–π–ª **`docs/migrations.md`**, —á—Ç–æ–±—ã —Å—Ä–∞–∑—É –≤—Å—Ç–∞–≤–∏—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç:

````markdown
# üõ†Ô∏è –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ CI/CD

–î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ö–µ–º–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Alembic**.  
–ú–∏–≥—Ä–∞—Ü–∏–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –ø—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –º–æ–¥–µ–ª–µ–π.

---

## üìë –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é
make revision

# –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
make migrate

# –æ—Ç–∫–∞—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
alembic downgrade -1
````

---

## üìå –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã

1. **–ö–∞–∂–¥–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π = –Ω–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è.**
2. –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–≤–∏–∑–∏–∏ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–º (`add_user_phone_number`, `drop_old_table`).
3. –í —Ä–µ–≤–∏–∑–∏–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å `ondelete` –∏ –∏–Ω–¥–µ–∫—Å–æ–≤.
4. –î–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü –∏–ª–∏ –ø–æ–ª–µ–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `soft delete`, –µ—Å–ª–∏ –µ—Å—Ç—å —Ä–∏—Å–∫ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö.

---

## üîÑ CI/CD –ø—Ä–æ–≤–µ—Ä–∫–∏

* ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ —á–∏—Å—Ç—É—é –ë–î.
* ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ `alembic revision --autogenerate` –Ω–µ —Å–æ–∑–¥–∞—ë—Ç "–ø—É—Å—Ç—É—é" –º–∏–≥—Ä–∞—Ü–∏—é.
* ‚úÖ –õ–∏–Ω—Ç–∏–Ω–≥ Python-–∫–æ–¥–∞ (`flake8`, `black`).
* ‚úÖ –ü—Ä–æ–≥–æ–Ω —Ç–µ—Å—Ç–æ–≤ –ø–µ—Ä–µ–¥ –º—ë—Ä–¥–∂–µ–º.

---

## üõ†Ô∏è –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –º—ë—Ä–¥–∂–µ–º

* [ ] –û–±–Ω–æ–≤–∏—Ç—å –º–æ–¥–µ–ª–∏ SQLAlchemy.
* [ ] –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é `make revision`.
* [ ] –ü—Ä–∏–º–µ–Ω–∏—Ç—å `make migrate` –ª–æ–∫–∞–ª—å–Ω–æ.
* [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ö–µ–º—É –ë–î –∫–æ–º–∞–Ω–¥–æ–π `\d+ <table>` –≤ psql.
* [ ] –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç.

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

* [Alembic Documentation](https://alembic.sqlalchemy.org/en/latest/)
* [SQLAlchemy ORM](https://docs.sqlalchemy.org/en/20/orm/)

---
